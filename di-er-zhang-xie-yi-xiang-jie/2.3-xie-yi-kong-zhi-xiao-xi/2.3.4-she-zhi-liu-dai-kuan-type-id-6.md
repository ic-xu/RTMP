# 2.3.4、设置流带宽（type id = 6）

客户端和服务器发送此消息来说明对方的出口带宽限制。接收方以此来限制自己的出口带宽，即限制未被应答的消息数据大小。接收到此消息的一方，如果窗口大小与上次发送的不一致，应该回复应答窗口大小的消息。

```java
     0                   1                   2                   3
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                   Acknowledgement Window size                 |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |  Limit Type   |
    +-+-+-+-+-+-+-+-+
          Payload for the ‘Set Peer Bandwidth’ protocol message
```

\#注释： 限制类型的取值为下面之一：

* 硬限制（0）：应该限制出口带宽为指明的窗口大小。
* 软限制（1）：应该限制出口带宽为指明的窗口大小，或已经生效的小一点的窗口大小。
* 动态限制（2）：如果上一次为硬限制，此消息被视为硬限制，否则忽略此消息。&#x20;
* !\[]\(../../annex/1382048-20180502155523445-1565426391.png)
